<script>
    const validate = () => {
        // let userId = req.session.userId;
        // console.log(userId);
        // if (userId == undefined) {
        //     alert('로그인이 필요합니다.');
        // }

        if (confirm('한 번 투표하시면 취소는 불가능합니다.\n해당 상품에 정말로 투표하시겠습니까?') == true) {
            alert('정상적으로 투표되었습니다.');
        } else {
            return;
        }
    }
</script>

<div id="one-div" class="col-div" style="width: 100%;">
    <button type="button" id="top" style="width: 60px; height: 60px;">
        <img src="/images/top.png" width="30" height="30" alt="scroll top" />
    </button>
    <div class="col-div mb-3">
        <ol style="margin-bottom: 0;">
            <li class="notice-li text-center" style="height: 80px; border: none; border-radius: 0; padding: 15px 0;">
                <a href="/mogeum/1" class="text-white">
                    <div style="display: flex; justify-content: center;">
                        <b class="d-day text-danger bg-white" style="margin: 0 10px;">D-4</b>
                        <h4 class="font-weight-bold">5월의 상품에 투표해 주세요!</h4>
                    </div>
                    <span id="sub-notice" style="font-size: 14px;">상품화 되었으면 하는 제품 및 아이디어에 투표해 주세요.</span>
                </a>
            </li>
        </ol>
    </div>
    <div id="one-div-main" class="container mb-6">
        <!-- 제품 간단 소개, 투표 상태 -->
        <div id="current-vote" class="mb-3">
            <h5 class="font-weight-bold mt-3 mb-3 text-center"><%= prodList[0].productName %></h5>
            <p class="text-center"><%= prodList[0].productIntro %></p>
            <form method="POST" action="/vote?_method=PUT" onsubmit="return validate()">
                <button class="text-white">투표하기</button>
            </form>
            <p class="vote-state text-center">투표권이 <strong><%= voteRights %></strong>개 남았습니다.</p>
            <p class="vote-state text-center">현재 순위 <strong>5</strong>위</p>
            <div>그래프 들어갈 공간</div>
        </div>
        <div id="product-detail" class="mb-50" style="z-index: 0;">
            <!-- 제품 사진 -->
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <div id="custCarousel" class="carousel slide text-center" data-ride="carousel">
                            <!-- slides -->
                            <div class="carousel-inner">
                                <div class="carousel-item active"><img src="<%= prodList[0].thumbnailImg %>" alt="Hills" /></div>
                                <div class="carousel-item"><img src="<%= prodList[0].detailImg1 %>" width="500" height="500" alt="Hills" /></div>
                                <div class="carousel-item"><img src="<%= prodList[0].detailImg2 %>" width="500" height="500" alt="Hills" /></div>
                                <div class="carousel-item"><img src="<%= prodList[0].detailImg3 %>" width="500" height="500" alt="Hills" /></div>
                            </div>
                            <!-- Left right -->
                            <a class="carousel-control-prev" href="#custCarousel" data-slide="prev">
                                <span class="carousel-control-prev-icon"></span>
                            </a>
                            <a class="carousel-control-next" href="#custCarousel" data-slide="next">
                                <span class="carousel-control-next-icon"></span>
                            </a>
                            <!-- Thumbnails -->
                            <ol class="carousel-indicators list-inline">
                                <li class="list-inline-item active">
                                    <a id="carousel-selector-0" class="selected" data-slide-to="0" data-target="#custCarousel">
                                        <img src="<%= prodList[0].thumbnailImg %>" class="img-fluid" width="100" height="100"/>
                                    </a>
                                </li>
                                <li class="list-inline-item">
                                    <a id="carousel-selector-1" data-slide-to="1" data-target="#custCarousel">
                                        <img src="<%= prodList[0].detailImg1 %>" class="img-fluid" width="100" height="100"/>
                                    </a>
                                </li>
                                <li class="list-inline-item">
                                    <a id="carousel-selector-2" data-slide-to="2" data-target="#custCarousel">
                                        <img src="<%= prodList[0].detailImg2 %>" class="img-fluid" width="100" height="100"/>
                                    </a>
                                </li>
                                <li class="list-inline-item">
                                    <a id="carousel-selector-2" data-slide-to="3" data-target="#custCarousel">
                                        <img src="<%= prodList[0].detailImg3 %>" class="img-fluid" width="100" height="100"/>
                                    </a>
                                </li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 제품 소개 -->
            <div id="detail-intro">
                <hr class="mb-3" />
                <h6 class="text-center text-dark font-weight-bold mb-0">제품명 : <%= prodList[0].productName %></h6>
                <hr class="mt-3" />
                <p class="text-dark"><%= prodList[0].productDetail %></p>
                <hr class="mt-3" />
                <h6 class="mb-3"><strong>유권자의 한 마디</strong> <small style="float: right;">응원 또는 개선사항을 남겨주세요!</small></h6>
                <!-- 댓글 -->
                <div class="container">
                    <div class="be-comment-block">
                        <div class="be-comment">
                            <div class="be-img-comment">
                                <a href="blog-detail-2.html">
                                    <img src="https://bootdey.com/img/Content/avatar/avatar1.png" alt="" class="be-ava-comment" />
                                </a>
                            </div>
                            <div class="be-comment-content">
                                <span class="be-comment-name">
                                    <a href="blog-detail-2.html">김지윤</a>
                                </span>
                                <span class="be-comment-time">
                                    <i class="fa fa-clock-o"></i>
                                    May 27, 2015 at 3:14am
                                </span>

                                <p class="be-comment-text">
                                    Pellentesque gravida tristique ultrices. Sed blandit varius mauris, vel volutpat urna hendrerit id. Curabitur
                                    rutrum dolor gravida turpis tristique efficitur.
                                </p>
                            </div>
                        </div>
                        <div class="be-comment">
                            <div class="be-img-comment">
                                <a href="blog-detail-2.html">
                                    <img src="https://bootdey.com/img/Content/avatar/avatar2.png" alt="" class="be-ava-comment" />
                                </a>
                            </div>
                            <div class="be-comment-content">
                                <span class="be-comment-name">
                                    <a href="blog-detail-2.html">김민지</a>
                                </span>
                                <span class="be-comment-time">
                                    <i class="fa fa-clock-o"></i>
                                    May 27, 2015 at 3:14am
                                </span>
                                <p class="be-comment-text">
                                    Nunc ornare sed dolor sed mattis. In scelerisque dui a arcu mattis, at maximus eros commodo. Cras magna nunc,
                                    cursus lobortis luctus at, sollicitudin vel neque. Duis eleifend lorem non ant. Proin ut ornare lectus, vel
                                    eleifend est. Fusce hendrerit dui in turpis tristique blandit.
                                </p>
                            </div>
                        </div>
                        <div class="be-comment">
                            <div class="be-img-comment">
                                <a href="blog-detail-2.html">
                                    <img src="https://bootdey.com/img/Content/avatar/avatar3.png" alt="" class="be-ava-comment" />
                                </a>
                            </div>
                            <div class="be-comment-content">
                                <span class="be-comment-name">
                                    <a href="blog-detail-2.html">조재희</a>
                                </span>
                                <span class="be-comment-time">
                                    <i class="fa fa-clock-o"></i>
                                    May 27, 2015 at 3:14am
                                </span>
                                <p class="be-comment-text">
                                    Cras magna nunc, cursus lobortis luctus at, sollicitudin vel neque. Duis eleifend lorem non ant
                                </p>
                            </div>
                        </div>
                        <form class="form-block">
                            <div class="row" id="comment-row">
                                <div style="width: 100%;">
                                    <div class="form-group">
                                        <input type="text" placeholder="의견쓰기" required />
                                    </div>
                                </div>
                                <button id="comment-input" class="btn pull-right text-white" style="height: 40px;">입력</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!-- product-detail -->
    </div>
    <!-- /one-div-main, one-div 닫는 태그는 footer에 -->
